@page
@model AddExpenseModel
@{
    ViewData["Title"] = "Add Expense";
}

<div class="page-header">
    <h2>➕ Add Expense</h2>
</div>

<div class="form-container">
    <form method="post">
        <div class="form-group">
            <label for="userId">User:</label>
            <select id="userId" name="NewExpense.UserId" asp-for="NewExpense.UserId" class="form-control" required>
                @foreach (var user in Model.Users)
                {
                    <option value="@user.UserId">@user.UserName (@user.Email)</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="categoryId">Category:</label>
            <select id="categoryId" name="NewExpense.CategoryId" asp-for="NewExpense.CategoryId" class="form-control" required>
                @foreach (var category in Model.Categories)
                {
                    <option value="@category.CategoryId">@category.CategoryName</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="amount">Amount (£):</label>
            <input type="number" id="amount" name="NewExpense.Amount" asp-for="NewExpense.Amount" 
                   class="form-control" step="0.01" min="0" required />
        </div>

        <div class="form-group">
            <label for="expenseDate">Date:</label>
            <input type="date" id="expenseDate" name="NewExpense.ExpenseDate" asp-for="NewExpense.ExpenseDate" 
                   class="form-control" required />
        </div>

        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" name="NewExpense.Description" asp-for="NewExpense.Description" 
                      class="form-control" rows="4" placeholder="Enter expense description..."></textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Submit</button>
            <a href="/Index" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
